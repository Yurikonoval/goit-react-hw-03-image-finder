{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","services/image-api.js","components/Modal/Modal.jsx","App.js","index.js"],"names":["Seachbar","state","findValue","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Button","onLoadMore","onClick","ImageGalleryItem","handleImageClick","largeImageURL","tags","id","webformatURL","src","alt","ImageGallery","imageURL","imageALT","status","images","color","height","width","style","textAlign","message","length","map","api","fetchImages","pageNumber","fetch","then","responce","ok","json","Promise","reject","Error","res","hits","Modal","handleCloseModal","e","code","target","onCloseModal","window","addEventListener","removeEventListener","App","showModal","imageAlt","handleFormSubmit","getImages","imagesAPI","catch","onOpenModal","url","modalToggle","prevProps","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.93a58308.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nimport './Searchbar.css';\n\nexport default class Seachbar extends Component {\n  static propTypes = { onSubmit: PropTypes.func };\n\n  state = {\n    findValue: '',\n  };\n\n  handleInputChange = event => {\n    this.setState({ findValue: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.findValue.trim() === '') {\n      toast.error('Type something to find');\n      return;\n    }\n\n    this.props.onSubmit(this.state.findValue);\n    this.setState({ findValue: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.findValue}\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Button.css';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" onClick={onLoadMore} className=\"Button\">\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './ImageGalleryItem.css';\n\nexport default class ImageGalleryItem extends Component {\n  static propTypes = {\n    id: PropTypes.number.isRequired,\n    tags: PropTypes.string.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n  };\n\n  handleImageClick = () => {\n    this.props.onClick(this.props.largeImageURL, this.props.tags);\n  };\n\n  render() {\n    const { id, webformatURL, tags } = this.props;\n\n    return (\n      <li className=\"ImageGalleryItem\" key={id}>\n        <img\n          src={webformatURL}\n          alt={tags}\n          // data-url={largeImageURL}\n          className=\"ImageGalleryItem-image\"\n          onClick={this.handleImageClick}\n        />\n      </li>\n    );\n  }\n}\n\n// export default function ImageGalleryItem({\n//   id,\n//   tags,\n//   webformatURL,\n//   largeImageURL,\n//   onOpenModal,\n// }) {\n//   return (\n//     <li className=\"ImageGalleryItem\" key={id}>\n//       <img\n//         src={webformatURL}\n//         alt={tags}\n//         data-url={largeImageURL}\n//         className=\"ImageGalleryItem-image\"\n//         onClick={onOpenModal}\n//       />\n//     </li>\n//   );\n// }\n\n// ImageGalleryItem.propTypes = {\n//   id: PropTypes.number.isRequired,\n//   tags: PropTypes.string.isRequired,\n//   webformatURL: PropTypes.string.isRequired,\n//   largeImageURL: PropTypes.string.isRequired,\n//   onOpenModal: PropTypes.func.isRequired,\n// };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport './ImageGallery.css';\n\nexport default class ImageGallery extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    onLoadMore: PropTypes.func.isRequired,\n    status: PropTypes.string.isRequired,\n    error: PropTypes.string,\n    images: PropTypes.array,\n  };\n\n  handleImageClick = (imageURL, imageALT) => {\n    this.props.onClick(imageURL, imageALT);\n  };\n\n  render() {\n    const { status, error, images, onLoadMore } = this.props;\n\n    if (status === 'idle') {\n      return <div className=\"helper-text\">Enter search query</div>;\n    }\n    if (status === 'pending') {\n      return Loader();\n    }\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    }\n    if (status === 'resolved' && images.length !== 0) {\n      return (\n        <>\n          <ul className=\"ImageGallery\">\n            {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n              <ImageGalleryItem\n                key={id}\n                id={id}\n                tags={tags}\n                webformatURL={webformatURL}\n                largeImageURL={largeImageURL}\n                onClick={this.handleImageClick}\n              />\n            ))}\n          </ul>\n          {<Button onLoadMore={onLoadMore} />}\n        </>\n      );\n    } else {\n      return <div className=\"helper-text\">We can't find it</div>;\n    }\n  }\n}\n","import React from 'react';\n\nimport Spinner from 'react-loader-spinner';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function Loader() {\n  return (\n    <Spinner\n      type=\"Rings\"\n      color=\"darkblue\"\n      height={150}\n      width={150}\n      style={{ textAlign: 'center' }}\n    />\n  );\n}\n","function fetchImages(findValue, pageNumber) {\n  const API_KEY = '19076620-7a0fb8f11fcad59e80e6da8cf';\n  return fetch(\n    `https://pixabay.com/api/?q=${findValue}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  )\n    .then(responce => {\n      if (responce.ok) {\n        return responce.json();\n      }\n      return Promise.reject(new Error(`Oh no... We cant find ${findValue}`));\n    })\n    .then(res => {\n      return res.hits;\n    });\n}\n\nconst api = { fetchImages };\n\nexport default api;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Modal.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string,\n    alt: PropTypes.string,\n    onCloseModal: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseModal);\n  }\n\n  handleCloseModal = e => {\n    if (e.code === 'Escape' || e.target === e.currentTarget) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return (\n      <div className=\"Overlay\" onClick={this.handleCloseModal}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imagesAPI from './services/image-api';\nimport Modal from './components/Modal/Modal';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    findValue: '',\n    pageNumber: 1,\n    images: [],\n    status: 'idle',\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    imageAlt: '',\n  };\n\n  handleFormSubmit = findValue => {\n    this.setState({\n      findValue: findValue,\n      pageNumber: 1,\n      images: [],\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevFindValue = prevState.findValue;\n    const nextFindValue = this.state.findValue;\n\n    if (prevFindValue !== nextFindValue) {\n      this.setState({ status: 'pending' });\n\n      this.getImages();\n    }\n\n    if (prevState.pageNumber !== this.state.pageNumber) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  getImages = () => {\n    const { findValue, pageNumber } = this.state;\n\n    imagesAPI\n      .fetchImages(findValue, pageNumber)\n      .then(res =>\n        this.setState(({ images, pageNumber }) => ({\n          images: [...images, ...res],\n          status: 'resolved',\n          pageNumber: pageNumber + 1,\n        })),\n      )\n\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  onLoadMore = () => {\n    this.getImages();\n  };\n\n  onOpenModal = (url, alt) => {\n    // const { alt } = e.target;\n    // const { url } = e.target.dataset;\n\n    this.setState({ largeImageURL: url, imageAlt: alt });\n\n    this.modalToggle();\n  };\n\n  modalToggle = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const {\n      status,\n      error,\n      images,\n      largeImageURL,\n      imageAlt,\n      showModal,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          status={status}\n          error={error}\n          images={images}\n          onClick={this.onOpenModal}\n          onLoadMore={this.onLoadMore}\n        />\n        {showModal && (\n          <Modal\n            src={largeImageURL}\n            alt={imageAlt}\n            onCloseModal={this.modalToggle}\n          />\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}