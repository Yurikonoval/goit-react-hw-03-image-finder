{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","services/image-api.js","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Seachbar","state","findValue","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","tags","webformatURL","largeImageURL","onOpenModal","src","alt","data-url","onClick","ImageGallery","status","images","color","height","width","style","textAlign","message","length","map","api","fetchImages","pageNumber","fetch","then","responce","ok","json","Promise","reject","Error","Button","onLoadMore","Modal","handleCloseModal","e","code","target","onCloseModal","window","addEventListener","removeEventListener","App","restImages","showModal","imageAlt","handleFormSubmit","getImages","imagesAPI","res","hits","total","catch","scrollTo","setTimeout","scrollBy","top","document","documentElement","clientHeight","behavior","url","dataset","modalToggle","prevProps","prevState","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8e74717b.chunk.js","sourcesContent":["import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport './Searchbar.css';\n\nexport default class Seachbar extends Component {\n  static propTypes = { onSubmit: PropTypes.func };\n\n  state = {\n    findValue: '',\n  };\n\n  handleInputChange = event => {\n    this.setState({ findValue: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.findValue.trim() === '') {\n      toast.error('Type something to find');\n      return;\n    }\n\n    this.props.onSubmit(this.state.findValue);\n    this.setState({ findValue: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.findValue}\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport './ImageGalleryItem.css';\n\nexport default function ImageGalleryItem({\n  id,\n  tags,\n  webformatURL,\n  largeImageURL,\n  onOpenModal,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" key={id}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-url={largeImageURL}\n        className=\"ImageGalleryItem-image\"\n        onClick={onOpenModal}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loader from '../Loader/Loader';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport './ImageGallery.css';\n\nexport default class ImageGallery extends Component {\n  static propTypes = {\n    onOpenModal: PropTypes.func.isRequired,\n    status: PropTypes.string.isRequired,\n    error: PropTypes.string,\n    images: PropTypes.array,\n  };\n\n  render() {\n    const { status, error, images, onOpenModal } = this.props;\n\n    if (status === 'idle') {\n      return <div className=\"helper-text\">Enter search query</div>;\n    }\n    if (status === 'pending') {\n      return Loader();\n    }\n    if (status === 'rejected') {\n      return <h1>{error.message}</h1>;\n    }\n    if (status === 'resolved' && images.length !== 0) {\n      return (\n        <ul className=\"ImageGallery\">\n          {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              id={id}\n              tags={tags}\n              webformatURL={webformatURL}\n              largeImageURL={largeImageURL}\n              onOpenModal={onOpenModal}\n            />\n          ))}\n        </ul>\n      );\n    } else {\n      return <div className=\"helper-text\">We can't find it</div>;\n    }\n  }\n}\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Spinner from 'react-loader-spinner';\n\nexport default function Loader() {\n  return (\n    <Spinner\n      type=\"Rings\"\n      color=\"darkblue\"\n      height={150}\n      width={150}\n      style={{ textAlign: 'center' }}\n    />\n  );\n}\n","function fetchImages(findValue, pageNumber) {\n  const API_KEY = '19076620-7a0fb8f11fcad59e80e6da8cf';\n  return fetch(\n    `https://pixabay.com/api/?q=${findValue}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(responce => {\n    if (responce.ok) {\n      return responce.json();\n    }\n    return Promise.reject(new Error(`Oh no... We cant find ${findValue}`));\n  });\n}\n\nconst api = { fetchImages };\n\nexport default api;\n","import PropTypes from 'prop-types';\nimport './Button.css';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" onClick={onLoadMore} className=\"Button\">\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport './Modal.css';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    src: PropTypes.string,\n    alt: PropTypes.string,\n    onCloseModal: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseModal);\n  }\n\n  handleCloseModal = e => {\n    if (e.code === 'Escape' || e.target === e.currentTarget) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return (\n      <div className=\"Overlay\" onClick={this.handleCloseModal}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imagesAPI from './services/image-api';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    findValue: '',\n    pageNumber: 1,\n    images: [],\n    restImages: 0,\n    status: 'idle',\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    imageAlt: '',\n  };\n\n  handleFormSubmit = findValue => {\n    this.setState({\n      findValue: findValue,\n      pageNumber: 1,\n      images: [],\n      restImages: 0,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevFindValue = prevState.findValue;\n    const nextFindValue = this.state.findValue;\n\n    if (prevFindValue !== nextFindValue) {\n      this.setState({ status: 'pending' });\n\n      this.getImages();\n    }\n  }\n\n  getImages = () => {\n    const { findValue, pageNumber } = this.state;\n\n    imagesAPI\n      .fetchImages(findValue, pageNumber)\n      .then(res =>\n        this.setState(({ images, pageNumber }) => ({\n          images: [...images, ...res.hits],\n          status: 'resolved',\n          pageNumber: pageNumber + 1,\n          restImages: res.total - images.length,\n        })),\n      )\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  onLoadMore = () => {\n    this.getImages();\n    this.scrollTo();\n  };\n\n  scrollTo = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 150,\n        behavior: 'smooth',\n      });\n    }, 500);\n  };\n\n  onOpenModal = e => {\n    const { alt } = e.target;\n    const { url } = e.target.dataset;\n\n    this.setState({ largeImageURL: url, imageAlt: alt });\n\n    this.modalToggle();\n  };\n\n  modalToggle = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const {\n      status,\n      error,\n      images,\n      largeImageURL,\n      imageAlt,\n      showModal,\n      restImages,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          status={status}\n          error={error}\n          images={images}\n          onOpenModal={this.onOpenModal}\n        />\n        {restImages > 11 && <Button onLoadMore={this.onLoadMore} />}\n        {showModal && (\n          <Modal\n            src={largeImageURL}\n            alt={imageAlt}\n            onCloseModal={this.modalToggle}\n          />\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}